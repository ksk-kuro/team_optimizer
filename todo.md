 GUIから終了時刻を受け取っても逆算して計算できるようにする

 負の記号はstartとendにのみ適用し、「後ろから何番目」を指すようにする。

 ちょっと関数が増えてきたので別のファイルにモジュール化しようかな、、→pyinstallerはちゃんと動く？